<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Code Analysis Report{% endblock %}</title>
    
    <!-- Tailwind CSS CDN for development -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Configure Tailwind with University of Glasgow color palette -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'uog': {
                            'blue': '#011451',
                            'burgundy': '#7d2239',
                            'lavender': '#5b4d94',
                            'leaf': '#006630',
                            'moss': '#385a4f',
                            'pillarbox': '#b30c00',
                            'rust': '#be4d00',
                            'sandstone': '#605643',
                            'sky': '#005398',
                            'slate': '#4f5961',
                            'thistle': '#951272',
                            'light-slate': '#f7f7f7'
                        }
                    },
                    fontFamily: {
                        'sans': ['Inter', 'system-ui', '-apple-system', 'sans-serif'],
                    }
                }
            }
        }
    </script>
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Plotly.js for charts -->
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    
    <!-- Custom CSS -->
    <style>
        /* Custom animations and effects */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .animate-fade-in {
            animation: fadeIn 0.6s ease-out;
        }
        
        .glass-effect {
            backdrop-filter: blur(10px);
            background: rgba(255, 255, 255, 0.95);
        }
        
        /* Print styles */
        @media print {
            .no-print { display: none !important; }
            .print-page-break { page-break-before: always; }
            .print-avoid-break { page-break-inside: avoid; }
        }
        
        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        
        ::-webkit-scrollbar-track {
            background: #f1f1f1;
        }
        
        ::-webkit-scrollbar-thumb {
            background: #011451;
            border-radius: 4px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: #005398;
        }
    </style>
    
    {% block head %}{% endblock %}
</head>

<body class="bg-uog-light-slate font-sans" id="top">
    <!-- Header Banner -->
    <header class="bg-gradient-to-r from-uog-blue to-uog-sky text-white shadow-lg">
        <div class="container mx-auto px-6 py-8">
            <div class="text-center">
                <h1 class="text-4xl md:text-5xl font-bold mb-2">
                    {% block header_title %}Code Analysis Report{% endblock %}
                </h1>
                <p class="text-xl opacity-90">
                    {% block header_subtitle %}University of Glasgow{% endblock %}
                </p>
                <p class="text-base opacity-75 mt-2">
                    {% block header_meta %}Generated on {{ generated_at }}{% endblock %}
                </p>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container mx-auto px-6 py-8">
        <div class="bg-white rounded-xl shadow-lg p-8 animate-fade-in">
            {% block content %}
            <div class="text-center py-16">
                <p class="text-uog-slate text-xl">No content defined for this template.</p>
            </div>
            {% endblock %}
        </div>
    </main>

    <!-- Footer -->
    <footer class="bg-uog-slate text-white mt-16">
        <div class="container mx-auto px-6 py-8 text-center">
            <div class="mb-4">
                <div class="inline-flex items-center space-x-2 text-lg font-medium">
                    <span>üè´</span>
                    <span>University of Glasgow</span>
                </div>
            </div>
            <p class="text-sm opacity-75">
                {% block footer_content %}
                This report was automatically generated by Code Reporter.
                {% endblock %}
            </p>
            {% block footer_extra %}{% endblock %}
        </div>
    </footer>

    <!-- Back to top button -->
    <div class="fixed bottom-6 right-6 no-print">
        <a href="#top" 
           class="bg-uog-blue hover:bg-uog-sky text-white p-3 rounded-full shadow-lg transition-all duration-200 hover:scale-110"
           title="Back to Top">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 15l7-7 7 7"></path>
            </svg>
        </a>
    </div>

    <!-- JavaScript -->
    <script>
        // Smooth scrolling for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Add intersection observer for animations
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('animate-fade-in');
                }
            });
        }, observerOptions);

        // Observe all cards and sections
        document.querySelectorAll('.bg-white, .glass-effect').forEach(el => {
            observer.observe(el);
        });
    </script>
    
    {% block scripts %}{% endblock %}
</body>
</html>